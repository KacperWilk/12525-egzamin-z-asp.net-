@model SkladkaUbezpieczenie.Models.Insurance

@{
    ViewBag.Title = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Details</h2>

<div>
    <h4>Insurance</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            Email :
        </dt>

        <dd>
            @ViewBag.email
        </dd>

        <dt>
            Birth Date : 
        </dt>

        <dd>
            @ViewBag.birthdate
        </dd>

        <dt>
            Price
        </dt>

        <dd>
            @ViewBag.price $
        </dd>

        <dt>
            Yearly Length :
        </dt>

        <dd>
            @ViewBag.yearlylength
        </dd>

        <dt>
            Monthly Payment :
        </dt>

        <dd>
            @{
                double age = DateTime.Today.Year - ViewBag.birthdate.Year;

                Double MonthlyPayment = (((1 + (age * 0.015) * Convert.ToDouble(ViewBag.price)) / Convert.ToDouble(ViewBag.yearlylength)) / 12);
            }
            @MonthlyPayment $
        </dd>

    </dl>

    <a href="@Url.Action("Confirm", "Insurance", new { id = ViewBag.id, email = ViewBag.email, birthdate = ViewBag.birthdate, price = ViewBag.price, yearlylength = ViewBag.yearlylength })"><button class="btn btn-primary">Accept this offer</button></a>

</div>
<p>
</p>
